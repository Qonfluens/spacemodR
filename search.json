[{"path":"/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2026 spacemodR authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (‚ÄúSoftware‚Äù), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED ‚Äú‚Äù, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"/articles/Tutorial.html","id":"load-habitat-layers-in-the-region-of-interest-roi","dir":"Articles","previous_headings":"","what":"Load habitat layers in the Region Of Interest (ROI)","title":"Tutorial","text":"following examples given specific French situation. methods designed updated countries. new regions, new layers new features, feel free open issue link: issue link.","code":""},{"path":"/articles/Tutorial.html","id":"set-french-departments","dir":"Articles","previous_headings":"Load habitat layers in the Region Of Interest (ROI)","what":"Set French Departments","title":"Tutorial","text":"get_departements_for_roi function identifies codes French departments intersect given Region Interest (ROI). particularly useful spatial analyses France, administrative boundaries (like departments) often needed fetch process geospatial data. roi: sf sfc object representing region interest. function uses first geometry (polygon) object.","code":"data(\"roi_metaleurop\") ## Or load a ROI via geojson # roi_metaleurop <- sf::st_read(\"data/metaleurop_roi.geojson\") dpts <- get_departements_for_roi(roi_metaleurop)"},{"path":"/articles/Tutorial.html","id":"load-ocs-ge-layers-in-the-region-of-interest-roi","dir":"Articles","previous_headings":"Load habitat layers in the Region Of Interest (ROI)","what":"Load OCS-GE layers in the Region Of Interest (ROI)","title":"Tutorial","text":"get_ocsge_data function designed download, extract, prepare OCS GE (Occupation du Sol √† Grande √âchelle) version 2 datasets specific Region Interest (ROI). function automates process fetching spatial data French National Geographic Institute (IGN), merging data relevant departments, cropping result match boundaries ROI. Input Parameters: roi: sf object (simple features) defining region interest. first feature object used. local_cache (optional): directory path downloaded archives stored. provided, temporary directory used. function ensures ROI transformed Lambert-93 projection (EPSG:2154), standard coordinate system French geographic data. can plot object using instance ggplot2 library included spacemodR.","code":"## This function is long to compute so we load the data set # sf_site <- get_ocsge_data(roi_metaleurop) data(ocsge_metaleurop) library(ggplot2) ggplot() +   theme_minimal() +   geom_sf(data=ocsge_metaleurop, aes(fill=code_cs)) +     geom_sf(data=roi_metaleurop, fill=NA, color=\"red\", size=1)"},{"path":[]},{"path":[]},{"path":"/articles/Tutorial.html","id":"setting-habitat-from-shapefiles-vector-maps","dir":"Articles","previous_headings":"Build a spacemodel > Prepare raster_stack: a stack of raster for ground and habitats.","what":"Setting habitat from shapefiles (vector maps)","title":"Tutorial","text":"habitat function creates spatial habitat object, inherits sf data.frame classes. object designed represent habitat zones includes specific attributes: habitat column (logical, indicating presence absence habitat), weight column (numeric, representing relative importance weight), geometry column (containing spatial geometries). geometry provided, function creates empty object. also performs checks ensure lengths habitat weight vectors match number geometries types correct (logical habitat, numeric weight). function useful initializing spatial analyses distinguishing habitat non-habitat zones essential.   Another option convenient use function complex situation, idea use function add_habitat. add_habitat function generic method adds habitat zones existing habitat object. takes input hab object class habitat, sf object sf_data containing geometries add, optional weight parameter (defaulting 1) assign weights new geometries. function checks sf_data indeed sf object, creates temporary habitat object geometries added, marking habitat (habitat = TRUE). initial hab object empty, new object becomes result. Otherwise, two objects merged using dplyr::bind_rows, preserving habitat class. function particularly useful dynamically expanding habitat zones spatial analysis.","code":"layer_CS2111 = ocsge_metaleurop[ocsge_metaleurop$code_cs == \"CS2.1.1.1\", ] layer_CS221 = ocsge_metaleurop[ocsge_metaleurop$code_cs == \"CS2.2.1\", ] layer_CS1121 = ocsge_metaleurop[ocsge_metaleurop$code_cs == \"CS1.1.2.1\", ] habitat_10 = habitat(layer_CS2111) plot(habitat_10) habitat_11 = habitat(layer_CS2111, weight=0.2) head(habitat_11) #> Simple feature collection with 1 feature and 2 fields #> Geometry type: MULTIPOLYGON #> Dimension:     XY #> Bounding box:  xmin: 697049.4 ymin: 7032094 xmax: 709595.3 ymax: 7043419 #> Projected CRS: RGF93 v1 / Lambert-93 #>   habitat weight                       geometry #> 1    TRUE    0.2 MULTIPOLYGON (((697891.4 70... habitat_12 = habitat(   layer_CS2111,   habitat=sample(c(TRUE,FALSE), nrow(layer_CS2111), replace=TRUE),   weight=runif(nrow(layer_CS2111), 0, 10) ) plot(habitat_12) habitat_20 = habitat() |>   add_habitat(layer_CS2111) class(habitat_20) #> [1] \"habitat\"    \"sf\"         \"data.frame\" habitat_21 = habitat() |>   add_habitat(layer_CS2111, weight=0.2) head(habitat_21) #> Simple feature collection with 1 feature and 2 fields #> Geometry type: MULTIPOLYGON #> Dimension:     XY #> Bounding box:  xmin: 697049.4 ymin: 7032094 xmax: 709595.3 ymax: 7043419 #> Projected CRS: RGF93 v1 / Lambert-93 #>   habitat weight                       geometry #> 1    TRUE    0.2 MULTIPOLYGON (((697891.4 70... habitat_22 = habitat() |>   add_habitat(layer_CS2111, weight=0.2) |>   add_habitat(layer_CS1121, weight=0.4) |>   add_nohabitat(layer_CS221)  head(habitat_22) #> Simple feature collection with 3 features and 2 fields #> Geometry type: MULTIPOLYGON #> Dimension:     XY #> Bounding box:  xmin: 695704.7 ymin: 7031268 xmax: 709595.3 ymax: 7043983 #> Projected CRS: RGF93 v1 / Lambert-93 #>   habitat weight                       geometry #> 1    TRUE    0.2 MULTIPOLYGON (((697891.4 70... #> 2    TRUE    0.4 MULTIPOLYGON (((698440.6 70... #> 3   FALSE    0.0 MULTIPOLYGON (((698052.4 70... plot(habitat_22)"},{"path":"/articles/Tutorial.html","id":"what-is-an-habitat","dir":"Articles","previous_headings":"Build a spacemodel > Prepare raster_stack: a stack of raster for ground and habitats.","what":"/!¬†WHAT IS AN HABITAT","title":"Tutorial","text":"consider habitat defined purpose model. 3 situations: 1. area species go, even just passing (impossible) raster ","code":""},{"path":"/articles/Tutorial.html","id":"defining-raster-of-habitat-based-on-a-raster-of-the-ground","dir":"Articles","previous_headings":"Build a spacemodel > Prepare raster_stack: a stack of raster for ground and habitats.","what":"Defining raster of habitat based on a raster of the ground","title":"Tutorial","text":", download raster layer interpolation ground concentration cadmium.  , ‚Äôs algorithm specified habitat build rasters.","code":"# the raster tif file is internal to the spacemodR package ground_cd <- load_raster_extdata(\"ground_concentration_cd_compressed.tif\") terra::plot(ground_cd) # prepare a list of OSGE code to make life easier OCSGE_codes <- list(   forest = c(\"CS2.1.1.1\", \"CS2.1.1.2\", \"CS2.1.1.3\", \"CS2.1.3\"),   grass = \"CS2.2.1\",   water = \"CS1.2.2\",   soil = c(\"CS1.2.1\",\"CS2.1.1.1\",\"CS2.1.1.2\",\"CS2.1.1.3\",            \"CS2.1.2\",\"CS2.1.3\",\"CS2.2.1\",\"CS2.2.3\"),   sealed = c(\"CS1.1.1.1\", \"CS1.1.1.2\", \"CS1.1.2.1\") ) layer_soil_natural = ocsge_metaleurop[ocsge_metaleurop$code_cs %in% OCSGE_codes$soil, ] layer_soil_artificial = ocsge_metaleurop[ocsge_metaleurop$code_cs %in% OCSGE_codes$sealed, ]  habitat_sol = habitat() |>   add_habitat(layer_soil_natural) |>   add_nohabitat(layer_soil_artificial) plot(habitat_sol) rast_sol <- habitat_raster(ground_cd, habitat_sol) terra::plot(rast_sol) rast_10 <- habitat_raster(ground_cd, habitat_10) terra::plot(rast_10) rast_12 <- habitat_raster(ground_cd, habitat_12) terra::plot(rast_12) rast_22 <- habitat_raster(ground_cd, habitat_22) terra::plot(rast_22)"},{"path":"/articles/Tutorial.html","id":"join-all-rasters-with-a-single-stack","dir":"Articles","previous_headings":"Build a spacemodel > Prepare raster_stack: a stack of raster for ground and habitats.","what":"Join all rasters with a single stack","title":"Tutorial","text":"","code":"stack_habitat <- raster_stack(   raster_list = list(rast_sol, rast_10, rast_12, rast_22),   names = c(\"sol\", \"sp10\", \"sp12\", \"sp22\") )  terra::plot(stack_habitat)"},{"path":"/articles/Tutorial.html","id":"prepare-trophic_df-a-data-frame-of-trophic-web","dir":"Articles","previous_headings":"Build a spacemodel","what":"Prepare trophic_df: a data.frame of trophic web","title":"Tutorial","text":"can use data.frame like : trophic web can computed:","code":"df_raw <- data.frame(   src = c(\"sol\", \"sol\", \"sp10\", \"sp12\"),   target = c(\"sp10\", \"sp12\", \"sp12\", \"sp22\"),   w = c(2, 3, 2, 1)) trophic_from_df <- trophic(df_raw, from = \"src\", to = \"target\", weight = \"w\")  attr(trophic_from_df, \"level\") #>  sol sp10 sp12 sp22  #>    1    2    3    4 trophic_df <- trophic() |>   add_link(\"sol\", \"sp10\", 2) |>   add_link(\"sol\", \"sp12\", 3) |>   add_link(\"sp10\", \"sp12\", 2) |>   add_link(\"sp12\", \"sp22\")  attr(trophic_df, \"level\") #>  sol sp10 sp12 sp22  #>    1    2    3    4 plot(trophic_df, shift=FALSE) plot(trophic_df, shift=TRUE)"},{"path":"/articles/Tutorial.html","id":"spacemodel-merge-a-stack-of-rasters-with-a-trophic-web-linking-rasters","dir":"Articles","previous_headings":"Build a spacemodel","what":"Spacemodel: merge a stack of rasters with a trophic web linking rasters","title":"Tutorial","text":"spacemodel list two object raster_stack trophic_graph: - raster_stack stack rasters using terra package object raster_stack - trophic_graph directed acyclic graph (DAG) can add weight.","code":"spcmdl_habitat <- spacemodel(stack_habitat, trophic_df) color_habitat <- colorRampPalette(c(\"white\", \"#169E19\"))(255) terra::plot(spcmdl_habitat, col=color_habitat)"},{"path":"/articles/Tutorial.html","id":"spacemodel-for-dispersal","dir":"Articles","previous_headings":"","what":"Spacemodel for Dispersal","title":"Tutorial","text":"Dispersal independent trophic link now since yet implemented dispersal dependent potential trophic links. Plot dispersal object:","code":"k_sp10 <- compute_kernel(radius=10, GSD=25, size_std=1.5) k_sp12 <- compute_kernel(radius=100, GSD=25, size_std=1.5) k_sp22 <- compute_kernel(radius=200, GSD=25, size_std=1.5) spcmdl_dispersal <- spcmdl_habitat |>   dispersal(\"sp10\",  method=\"convolution\",  method_option=list(kernel=k_sp10)) |>   dispersal(\"sp12\",  method=\"convolution\",  method_option=list(kernel=k_sp12)) |>   dispersal(\"sp22\",  method=\"convolution\",  method_option=list(kernel=k_sp22)) color_dispersal <- colorRampPalette(c(\"white\", \"#166C9E\"))(255) terra::plot(spcmdl_dispersal, col=color_dispersal)"},{"path":"/articles/Tutorial.html","id":"spacemodel-for-exposure","dir":"Articles","previous_headings":"","what":"Spacemodel for Exposure","title":"Tutorial","text":"","code":"spcmdl_dispersal[[\"sol\"]][] <- ground_cd terra::plot(spcmdl_dispersal[[\"sol\"]]) kernels <- list(   sol  = NA,   sp10 = k_sp10,   sp12 = k_sp12,   sp22 = k_sp22 ) attr(spcmdl_dispersal, \"trophic_tbl\") #>             link weight #> sp10   sol, sp10      2 #> sp12   sol, sp12      3 #> sp121 sp10, sp12      2 #> sp22  sp12, sp22      1 test_intakes <- intake(spcmdl_dispersal,   # General rule: sp12 uptake with factor 3   \"sp12\" = 3,     # Exception: when sp12 feed on sp10, factor is 5   \"sp10 -> sp12\" = 5,   # General rule: sp22 has a complex function   \"sp22\" = ~ x^2 + 10,   # Exception: sol to sp10 is a coef   \"sol -> sp10\" = 0.1,   default = 1 # for all other default is 1 ) spcmdl_transfer <- transfer(spcmdl_dispersal, kernels, test_intakes) color_transfer <- colorRampPalette(c(\"white\", \"#A33D0A\"))(255) terra::plot(spcmdl_transfer, col=color_transfer)"},{"path":"/articles/Tutorial.html","id":"eco-ssl-example-build-a-spacemodel-for-eco-ssl","dir":"Articles","previous_headings":"","what":"Eco-SSL Example: Build a spacemodel for Eco-SSL","title":"Tutorial","text":"first step build raster stack ground raster.  second step build trophic web, species connecting directly soil.  third step merge raster stack trophic data.frame.","code":"ground_cd <- load_raster_extdata(\"ground_concentration_cd_compressed.tif\") names_hab = c(\"soil\", \"plant\", \"invert\", \"mamHerb\", \"mamInsect\", \"birdInsect\") list_habitat <- lapply(names_hab, function(i) ground_cd) stack_habitat <- raster_stack(list_habitat, names_hab)  terra::plot(stack_habitat) trophic_df <- trophic() |>   add_link(\"soil\", \"plant\") |>   add_link(\"soil\", \"invert\") |>   add_link(\"soil\", \"mamHerb\") |>   add_link(\"soil\", \"mamInsect\") |>   add_link(\"soil\", \"birdInsect\")  attr(trophic_df, \"level\") #>       soil      plant     invert    mamHerb  mamInsect birdInsect  #>          1          2          2          2          2          2 plot(trophic_df) spcmdl_ecossl_h <- spacemodel(stack_habitat, trophic_df)  terra::plot(spcmdl_ecossl_h)"},{"path":"/articles/Tutorial.html","id":"build-the-risk-indice","dir":"Articles","previous_headings":"Eco-SSL Example: Build a spacemodel for Eco-SSL","what":"Build the Risk indice","title":"Tutorial","text":"plot layer risk threshold color scale.","code":"# no dispersal for eco_ssl ecossl_kernels <- list(   soil  = NA, plant = NA, invert = NA,   mamHerb = NA, mamInsect = NA, birdInsect = NA) ecossl_intakes <- intake(spcmdl_ecossl_h,   \"soil -> plant\"       = ~ 10^x/32,     \"soil -> invert\"      = ~ 10^x/140,   \"soil -> mamHerb\"     = ~ 10^x/73,   \"soil -> mamInsect\"   = ~ 10^x/0.36,   \"soil -> birdInsect\"  = ~ 10^x/0.77,   default = 1, # for all other default is 1   normalize = FALSE # TRUE would weight every link to sum at 1 )  spcmdl_ecossl_risk <- transfer(   spcmdl_ecossl_h,   ecossl_kernels,   ecossl_intakes,   exposure_weighting=\"potential\") # Risk colors breaks_risk <- c(0, 0.1, 0.5, 1, 5, 10, Inf) cols_risk <- c(   \"darkgreen\",   # 0 - 0.1   \"green\",       # 0.1 - 0.5   \"lightgreen\",  # 0.5 - 1   \"yellow\",      # 1 - 5   \"saddlebrown\", # 5 - 10   \"#4A2C2A\"      # > 10 )  names_keep <- names(spcmdl_ecossl_risk)[names(spcmdl_ecossl_risk) != \"soil\"] spcmdl_ecossl_risk_sub <- spcmdl_ecossl_risk[[names_keep]]  terra::plot(spcmdl_ecossl_risk_sub,             breaks = breaks_risk,             col = cols_risk) poly <- roi_metaleurop poly_vect <- terra::project(terra::vect(poly), terra::crs(spcmdl_ecossl_risk_sub))  rast_crop <- terra::crop(spcmdl_ecossl_risk_sub, poly_vect) rast_final <- terra::mask(rast_crop, poly_vect) terra::plot(rast_final,             breaks = breaks_risk,             col = cols_risk)"},{"path":"/articles/Tutorial.html","id":"checking-eco-ssl","dir":"Articles","previous_headings":"Eco-SSL Example: Build a spacemodel for Eco-SSL > Build the Risk indice","what":"checking Eco-SSL","title":"Tutorial","text":"simple example, simple check can done, Eco-SSL computing risk based amount soil:","code":"check_ecossl_risk = list(   \"soil -> plant\"       = 10^ground_cd/32,     \"soil -> invert\"      = 10^ground_cd/140,   \"soil -> mamHerb\"     = 10^ground_cd/73,   \"soil -> mamInsect\"   = 10^ground_cd/0.36,   \"soil -> birdInsect\"  = 10^ground_cd/0.77 )  r_check_ecossl_risk = terra::rast(check_ecossl_risk)  terra::plot(r_check_ecossl_risk,             breaks = breaks_risk,             col = cols_risk)"},{"path":"/articles/Using_External_Dispersal.html","id":"use-docker-image-to-run-this","dir":"Articles","previous_headings":"","what":"USE DOCKER IMAGE TO RUN THIS","title":"Using_External_Dispersal","text":"Notebook, going see can use external function dispersal. show case using Julia Omniscape function.","code":"library(spacemodR) library(terra)  #> terra 1.8.93"},{"path":[]},{"path":"/articles/Using_External_Dispersal.html","id":"the-core-concept-everywhere-to-everywhere","dir":"Articles","previous_headings":"About Omniscape","what":"The Core Concept: ‚ÄúEverywhere to Everywhere‚Äù","title":"Using_External_Dispersal","text":"Standard connectivity models usually ask: ‚Äúget Point Point B?‚Äù Omniscape asks: ‚Äúindividuals start everywhere try move directions within home range, go? paths get used ?‚Äù applies Circuit Theory: treats landscape like electrical circuit board. Individuals = Electrons (Current). Landscape difficulty = Resistance.","code":""},{"path":"/articles/Using_External_Dispersal.html","id":"the-inputs-what-you-give-the-model","dir":"Articles","previous_headings":"About Omniscape","what":"The Inputs (What you give the model)","title":"Using_External_Dispersal","text":"run Omniscape, primarily need two raster maps one parameter. Source Strength (Input Raster): Population Density map (number individuals/pixel). tells algorithm much current (amperes) inject pixel. Example: pixel value 100 (100 individuals), algorithm starts large ‚Äúflow‚Äù movement spot. pixel value 0 (empty ground), movement starts (movement can still pass ). Resistance Surface (Input Raster): difficulty moving pixel. Arbitrary resistance unit (Ohms), usually 1 100. Example: Low value (1): Easy cross (e.g., preferred habitat), ‚Äúcurrent‚Äù flows easily . High value (100): Hard cross (e.g., wall, water, road), ‚Äúcurrent‚Äù blocked tries find way around. Infinite (NA): absolute barrier, flow possible. Radius (Parameter): dispersal distance home range (pixels). maximum distance individual likely travel. algorithm solves connectivity problem within moving window.","code":""},{"path":"/articles/Using_External_Dispersal.html","id":"the-algorithm-how-it-works","dir":"Articles","previous_headings":"About Omniscape","what":"The Algorithm (How it works)","title":"Using_External_Dispersal","text":"algorithm circular window (defined Radius) sliding landscape map.","code":""},{"path":"/articles/Using_External_Dispersal.html","id":"the-outputs-what-you-get-back","dir":"Articles","previous_headings":"About Omniscape","what":"The Outputs (What you get back)","title":"Using_External_Dispersal","text":"important result Cumulative Current Map. Cumulative Current (Output Raster): total flow individuals passing pixel, coming possible directions within radius. Probability movement (Flow Intensity). Example: high Value pixel ‚Äúhighway‚Äù ‚Äúbottleneck‚Äù. huge number individuals pass spot. ‚Äôs great habitat, ‚Äôs path two barriers. spacemodR context: area contaminated, large portion population exposed pass . low value pixel means individuals visit spot. Either hard reach (surrounded barriers), population source nearby zero. Flow Potential (Optional Output): represents landscape look resistance 1 everywhere (perfectly flat). shows flow based population density geometry, ignoring landscape barriers. Normalized Current (Optional Output): represents Cumulative Current / Flow Potential. highlights ‚Äúpinch points.‚Äù: >1 flow higher expected, landscape funneling individuals (bottleneck effect). < 1: flow lower expected, landscape blocking movement .","code":""},{"path":"/articles/Using_External_Dispersal.html","id":"for-spacemodr","dir":"Articles","previous_headings":"About Omniscape","what":"For spacemodR:","title":"Using_External_Dispersal","text":"provide map animals live (Abundance) hard move (Resistance). algorithm simulates movement every individual every direction. get map showing animals go. pixel high current means ‚Äúmany animals pass ,‚Äù making critical zone contaminant exposure. using spacemodR::transfer, can compute exposure diffusion contaminant population.","code":""},{"path":"/articles/Using_External_Dispersal.html","id":"initialize-julia-required-at-the-start-of-the-session","dir":"Articles","previous_headings":"","what":"Initialize Julia (Required at the start of the session)","title":"Using_External_Dispersal","text":"","code":"library(JuliaCall) # UNCOMMENT WHEN RUNNING # julia_setup(install=FALSE)"},{"path":"/articles/Using_External_Dispersal.html","id":"example-of-habitat-and-resistance","dir":"Articles","previous_headings":"Initialize Julia (Required at the start of the session)","what":"Example of habitat and resistance","title":"Using_External_Dispersal","text":"code compute dispersal. can long compute‚Ä¶","code":"# setup Matrix size n_row <- 20 n_col <- 20 # ============================================================================== #  MATRIX of habitat (Source Strength) # ============================================================================== mat_habitat <- matrix(0, nrow = n_row, ncol = n_col) mat_habitat[2:6, 2:6] <- 100 mat_habitat[15:18, 15:18] <- 20 rast_habitat <- terra::rast(mat_habitat) names(rast_habitat) <- \"population\" # ============================================================================== # MATRICE Of RESISTANCE # ============================================================================== mat_resistance <- matrix(1, nrow = n_row, ncol = n_col) mat_resistance[, 10:11] <- 100 mat_resistance[10:12, 10:11] <- 1 mat_resistance[15:20, 1:5] <- NA rast_resistance <- terra::rast(mat_resistance) names(rast_resistance) <- \"resistance\" # VIZUALIZE terra::plot(rast_habitat, main = \"Habitat (Sources)\", col = c(\"white\", \"green\", \"darkgreen\")) terra::plot(rast_resistance, main = \"Resistance\", col = c(\"grey\", \"brown\")) ## USE DOCKER IMAGE TO RUN THIS  # dispersed_map <- compute_dispersal( #   x = rast_habitat, #   method = \"omniscape\", #   options = list( #     resistance = rast_resistance, #     radius = 5 # small radius for this little matrix #   ) # )"},{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Virgile Baudrot. Author, maintainer. L√©a Bariod. Contributor. Cl√©mentine Fritsch. Contributor. Renaud Scheifler. Contributor.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Baudrot V (2026). spacemodR: Spacemod Habitat, Trophic, Dispersal, Exposure Risk Mapping. R package version 0.1.3.","code":"@Manual{,   title = {spacemodR: Spacemod Habitat, Trophic, Dispersal, Exposure and Risk Mapping},   author = {Virgile Baudrot},   year = {2026},   note = {R package version 0.1.3}, }"},{"path":"/index.html","id":"spacemodr","dir":"","previous_headings":"","what":"Spacemod Habitat, Trophic, Dispersal, Exposure and Risk Mapping","title":"Spacemod Habitat, Trophic, Dispersal, Exposure and Risk Mapping","text":"Spacemod Habitat, Trophic, Dispersal, Exposure Risk Mapping spacemodR R package designed spatial ecological risk modeling. integrates habitats, trophic webs, dispersal, contaminant exposure build complex ‚Äúspacemodels‚Äù linking geographic data (rasters, vectors) biological interactions.","code":""},{"path":"/index.html","id":"id_-installation","dir":"","previous_headings":"","what":"üì¶ Installation","title":"Spacemod Habitat, Trophic, Dispersal, Exposure and Risk Mapping","text":"package automatically built via GitHub Actions. can install retrieving archive generated continuous integration system.","code":""},{"path":"/index.html","id":"via-github-action-artifact","dir":"","previous_headings":"üì¶ Installation","what":"Via GitHub Action Artifact","title":"Spacemod Habitat, Trophic, Dispersal, Exposure and Risk Mapping","text":".github/workflows/build_and_release.yaml workflow configured build package check integrity every push main branch. install latest version: Go Actions tab GitHub repository. Click latest run ‚ÄúBuild Archive‚Äù workflow. bottom page, Artifacts section, download spacemodR-archive file. Unzip file obtain .tar.gz source file. Install package R using following command: Note: Ensure system dependencies (GDAL, PROJ, GEOS) installed, package depends sf terra.","code":"# Replace the path with the location of your downloaded file install.packages(\"path/to/spacemodR_0.1.0.tar.gz\", repos = NULL, type = \"source\")"},{"path":"/index.html","id":"using-the-docker-file","dir":"","previous_headings":"","what":"Using the docker file","title":"Spacemod Habitat, Trophic, Dispersal, Exposure and Risk Mapping","text":"Go http://localhost:8787, user rstudio password: mdp.","code":"docker build -t spacemodr . docker run --rm -ti \\   -p 8787:8787 \\   -e PASSWORD=mdp \\   -v /home/virgile/Downloads:/home/rstudio/data \\   spacemodr"},{"path":"/reference/add_habitat.html","id":null,"dir":"Reference","previous_headings":"","what":"Add habitat zones to a Habitat object ‚Äî add_habitat","title":"Add habitat zones to a Habitat object ‚Äî add_habitat","text":"Add habitat zones Habitat object","code":""},{"path":"/reference/add_habitat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add habitat zones to a Habitat object ‚Äî add_habitat","text":"","code":"add_habitat(hab, sf_data, weight = 1, ...)"},{"path":"/reference/add_habitat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add habitat zones to a Habitat object ‚Äî add_habitat","text":"hab Habitat object sf_data sf object containing geometries add weight weight apply habitat feature. Can used resistance dispersal functions instance. ... Additional arguments","code":""},{"path":"/reference/add_habitat.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add habitat zones to a Habitat object ‚Äî add_habitat","text":"Habitat object new geometries added habitat","code":""},{"path":"/reference/add_link.html","id":null,"dir":"Reference","previous_headings":"","what":"Add links to a trophic table ‚Äî add_link","title":"Add links to a trophic table ‚Äî add_link","text":"Adds one several directed links trophic_tbl object.","code":""},{"path":"/reference/add_link.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add links to a trophic table ‚Äî add_link","text":"","code":"add_link(tbl, from, to, weight = 1)"},{"path":"/reference/add_link.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add links to a trophic table ‚Äî add_link","text":"tbl trophic_tbl object. single character string indicating source node. character vector indicating target nodes. weight numeric vector weights associated link. single value provided, recycled match length .","code":""},{"path":"/reference/add_link.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add links to a trophic table ‚Äî add_link","text":"validated trophic_tbl object new links added.","code":""},{"path":"/reference/add_link.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Add links to a trophic table ‚Äî add_link","text":"function performs several checks: must scalar character string must character vector Links must unique Self-loops (== ) forbidden resulting graph must remain acyclic","code":""},{"path":"/reference/add_link.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add links to a trophic table ‚Äî add_link","text":"","code":"net <- trophic() |>   add_link(\"a\", \"b\", weight = 1)"},{"path":"/reference/add_nohabitat.html","id":null,"dir":"Reference","previous_headings":"","what":"Add non-habitat zones to a Habitat object ‚Äî add_nohabitat","title":"Add non-habitat zones to a Habitat object ‚Äî add_nohabitat","text":"Add non-habitat zones Habitat object","code":""},{"path":"/reference/add_nohabitat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add non-habitat zones to a Habitat object ‚Äî add_nohabitat","text":"","code":"add_nohabitat(hab, sf_data, ...)"},{"path":"/reference/add_nohabitat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add non-habitat zones to a Habitat object ‚Äî add_nohabitat","text":"hab Habitat object sf_data sf object containing geometries add ... Additional arguments","code":""},{"path":"/reference/add_nohabitat.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add non-habitat zones to a Habitat object ‚Äî add_nohabitat","text":"Habitat object new geometries added non-habitat","code":""},{"path":"/reference/compute_dispersal.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute dispersal or spread map (Generic Engine) ‚Äî compute_dispersal","title":"Compute dispersal or spread map (Generic Engine) ‚Äî compute_dispersal","text":"Low-level function apply spatial processing (Convolution External algorithms) raster. handles NA masking method dispatch Julia necessary.","code":""},{"path":"/reference/compute_dispersal.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute dispersal or spread map (Generic Engine) ‚Äî compute_dispersal","text":"","code":"compute_dispersal(x, method = \"convolution\", options = list(), mask = NULL)"},{"path":"/reference/compute_dispersal.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute dispersal or spread map (Generic Engine) ‚Äî compute_dispersal","text":"x SpatRaster. Source layer disperse. method Character. \"convolution\" \"omniscape\" (placeholder). options List. Parameters (e.g., `kernel` convolution). mask SpatRaster (optional). mask apply dispersion (e.g., maintain original NA structure).","code":""},{"path":"/reference/compute_dispersal.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute dispersal or spread map (Generic Engine) ‚Äî compute_dispersal","text":"SpatRaster object containing dispersed values.","code":""},{"path":"/reference/compute_kernel.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a 2D Gaussian motion kernel as a SpatRaster ‚Äî compute_kernel","title":"Create a 2D Gaussian motion kernel as a SpatRaster ‚Äî compute_kernel","text":"Create 2D Gaussian motion kernel SpatRaster","code":""},{"path":"/reference/compute_kernel.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a 2D Gaussian motion kernel as a SpatRaster ‚Äî compute_kernel","text":"","code":"compute_kernel(radius, GSD, size_std = 1.5)"},{"path":"/reference/compute_kernel.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a 2D Gaussian motion kernel as a SpatRaster ‚Äî compute_kernel","text":"radius Numeric, std distribution meters GSD Numeric, ground sampling distance meters per pixel size_std Numeric, many std extend kernel side","code":""},{"path":"/reference/compute_kernel.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a 2D Gaussian motion kernel as a SpatRaster ‚Äî compute_kernel","text":"matrix defining kernel","code":""},{"path":"/reference/compute_levels.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute trophic levels of nodes ‚Äî compute_levels","title":"Compute trophic levels of nodes ‚Äî compute_levels","text":"Determines trophic level node acyclic directed graph.","code":""},{"path":"/reference/compute_levels.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute trophic levels of nodes ‚Äî compute_levels","text":"","code":"compute_levels(edges)"},{"path":"/reference/compute_levels.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute trophic levels of nodes ‚Äî compute_levels","text":"edges data.frame columns .","code":""},{"path":"/reference/compute_levels.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute trophic levels of nodes ‚Äî compute_levels","text":"named numeric vector giving trophic level node.","code":""},{"path":"/reference/dispersal.html","id":null,"dir":"Reference","previous_headings":"","what":"Disperse a species or variable over the landscape ‚Äî dispersal","title":"Disperse a species or variable over the landscape ‚Äî dispersal","text":"Applies dispersal mechanism specific layer `spacemodel` object. function acts wrapper around compute_dispersal handle `spacemodel` class structure.","code":""},{"path":"/reference/dispersal.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Disperse a species or variable over the landscape ‚Äî dispersal","text":"","code":"dispersal(   spacemodel,   layer = 1,   method = \"convolution\",   method_option = list() )"},{"path":"/reference/dispersal.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Disperse a species or variable over the landscape ‚Äî dispersal","text":"spacemodel spacemodel object. layer Character Integer. name index layer disperse (e.g., \"Fox\", 1). method Character. dispersal method use. Options : \"convolution\" (default): Uses moving window (kernel). \"omniscape\": Uses Circuit Theory (via Julia Omniscape.jl). method_option list parameters specific chosen method: \"convolution\": must contain kernel (matrix). \"omniscape\": must contain resistance (SpatRaster) radius (numeric).","code":""},{"path":"/reference/dispersal.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Disperse a species or variable over the landscape ‚Äî dispersal","text":"spacemodel object specified layer updated dispersed values.","code":""},{"path":[]},{"path":"/reference/dispersal.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Disperse a species or variable over the landscape ‚Äî dispersal","text":"","code":"if (FALSE) { # \\dontrun{ # 1. Convolution example my_kernel <- matrix(1, nrow=3, ncol=3) sm_updated <- dispersal(sm, layer = \"Predator\", method = \"convolution\",                         method_option = list(kernel = my_kernel))  # 2. Omniscape example (requires Julia) sm_updated <- dispersal(sm, layer = \"Predator\", method = \"omniscape\",                         method_option = list(resistance = res_map, radius = 10)) } # }"},{"path":"/reference/flux.html","id":null,"dir":"Reference","previous_headings":"","what":"Apply trophic flux from a resource layer ‚Äî flux","title":"Apply trophic flux from a resource layer ‚Äî flux","text":"Computes contribution resource raster consumer layer using normalized weight flux function stored trophic table.","code":""},{"path":"/reference/flux.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Apply trophic flux from a resource layer ‚Äî flux","text":"","code":"flux(raster, intakes, from, to)"},{"path":"/reference/flux.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Apply trophic flux from a resource layer ‚Äî flux","text":"raster SpatRaster (similar) representing exposure resource. intakes trophic_tbl object must contain column normalized_weight column flux. Character string, name source node. Character string, name target node.","code":""},{"path":"/reference/flux.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Apply trophic flux from a resource layer ‚Äî flux","text":"raster object transformed values.","code":""},{"path":"/reference/flux.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Apply trophic flux from a resource layer ‚Äî flux","text":"function extracts link corresponding -> trophic table applies: associated flux function raster values normalized weight link error thrown link exists.","code":""},{"path":"/reference/get_departements_for_roi.html","id":null,"dir":"Reference","previous_headings":"","what":"Identify codes of departments intersecting a region of interest ‚Äî get_departements_for_roi","title":"Identify codes of departments intersecting a region of interest ‚Äî get_departements_for_roi","text":"function takes region interest (ROI) `sf` `sfc` object returns codes departments intersecting region.","code":""},{"path":"/reference/get_departements_for_roi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Identify codes of departments intersecting a region of interest ‚Äî get_departements_for_roi","text":"","code":"get_departements_for_roi(roi)"},{"path":"/reference/get_departements_for_roi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Identify codes of departments intersecting a region of interest ‚Äî get_departements_for_roi","text":"roi spatial object type `sf` `sfc` representing region interest. Use first geometry (polygon).","code":""},{"path":"/reference/get_departements_for_roi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Identify codes of departments intersecting a region of interest ‚Äî get_departements_for_roi","text":"character vector containing codes departments intersecting region interest.","code":""},{"path":"/reference/get_departements_for_roi.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Identify codes of departments intersecting a region of interest ‚Äî get_departements_for_roi","text":"","code":"library(sf) #> Linking to GEOS 3.12.1, GDAL 3.8.4, PROJ 9.4.0; sf_use_s2() is TRUE roi <- sf::st_as_sfc(sf::st_bbox(   c(xmin = 600000, ymin = 6600000, xmax = 650000, ymax = 6650000),   crs = 2154) ) departments <- get_departements_for_roi(roi)"},{"path":"/reference/get_ocsge_data_fgb.html","id":null,"dir":"Reference","previous_headings":"","what":"Collect data from OCS GE repository using FlatGeobuf on S3 ‚Äî get_ocsge_data_fgb","title":"Collect data from OCS GE repository using FlatGeobuf on S3 ‚Äî get_ocsge_data_fgb","text":"Collect data OCS GE repository using FlatGeobuf S3","code":""},{"path":"/reference/get_ocsge_data_fgb.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Collect data from OCS GE repository using FlatGeobuf on S3 ‚Äî get_ocsge_data_fgb","text":"","code":"get_ocsge_data_fgb(roi, fgb_url)"},{"path":"/reference/get_ocsge_data_fgb.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Collect data from OCS GE repository using FlatGeobuf on S3 ‚Äî get_ocsge_data_fgb","text":"roi object `sf` defiing Region Interest. fgb_url Public URL .fgb file.","code":""},{"path":"/reference/get_ocsge_data_fgb.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Collect data from OCS GE repository using FlatGeobuf on S3 ‚Äî get_ocsge_data_fgb","text":"object `sf` cropped bounding bbox form ROI.","code":""},{"path":"/reference/habitat.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a Habitat object ‚Äî habitat","title":"Create a Habitat object ‚Äî habitat","text":"Create spatial Habitat object based optional sf data.frame. geometry provided, creates empty Habitat object. object columns: habitat: logical, TRUE/FALSE weight: numeric geometry: sfc geometry","code":""},{"path":"/reference/habitat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a Habitat object ‚Äî habitat","text":"","code":"habitat(geometry = NULL, habitat = NULL, weight = NULL)"},{"path":"/reference/habitat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a Habitat object ‚Äî habitat","text":"geometry object class sf sfc. Optional, default empty. habitat Logical vector indicating habitat presence. Default logical(0). weight Numeric vector weights. Default numeric(0).","code":""},{"path":"/reference/habitat.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a Habitat object ‚Äî habitat","text":"object class habitat, inheriting sf data.frame.","code":""},{"path":"/reference/habitat.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a Habitat object ‚Äî habitat","text":"","code":"library(sf)  # Empty habitat h <- habitat() h #> Habitat object #> Number of features: 0  #> CRS: NA  #> Simple feature collection with 0 features and 2 fields #> Bounding box:  xmin: NA ymin: NA xmax: NA ymax: NA #> CRS:           NA #> [1] habitat  weight   geometry #> <0 rows> (or 0-length row.names)  # Habitat with geometries geom <- st_sfc(   st_point(c(0, 0)),   st_point(c(1, 1)),   crs = 4326 )  hab <- habitat(   geometry = geom,   habitat = c(TRUE, FALSE),   weight = c(0.8, 0) ) hab #> Habitat object #> Number of features: 2  #> CRS: EPSG:4326  #> Simple feature collection with 2 features and 2 fields #> Geometry type: POINT #> Dimension:     XY #> Bounding box:  xmin: 0 ymin: 0 xmax: 1 ymax: 1 #> Geodetic CRS:  WGS 84 #>   habitat weight    geometry #> 1    TRUE    0.8 POINT (0 0) #> 2   FALSE    0.0 POINT (1 1)"},{"path":"/reference/habitat_raster.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a raster from a habitat object ‚Äî habitat_raster","title":"Create a raster from a habitat object ‚Äî habitat_raster","text":"Create raster habitat object","code":""},{"path":"/reference/habitat_raster.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a raster from a habitat object ‚Äî habitat_raster","text":"","code":"habitat_raster(ground_raster, habitat)"},{"path":"/reference/habitat_raster.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a raster from a habitat object ‚Äî habitat_raster","text":"ground_raster SpatRaster (reference grid). habitat habitat object inherited sf data.frame class.","code":""},{"path":"/reference/habitat_raster.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a raster from a habitat object ‚Äî habitat_raster","text":"SpatRaster (weight NA nogo)","code":""},{"path":"/reference/intake.html","id":null,"dir":"Reference","previous_headings":"","what":"Constructor for Intake Parameters ‚Äî intake","title":"Constructor for Intake Parameters ‚Äî intake","text":"Creates configures trophic flux table simplified syntax.","code":""},{"path":"/reference/intake.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Constructor for Intake Parameters ‚Äî intake","text":"","code":"intake(x, ..., default = NULL, normalize = TRUE)"},{"path":"/reference/intake.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Constructor for Intake Parameters ‚Äî intake","text":"x `spacemodel` object `trophic_tbl`. ... Flux definitions. - Key `\"Target\"` (e.g., `\"Fox\" = 0.5`): applies links pointing Fox. - Key `\"Source -> Target\"` (e.g., `\"Soil -> Worm\" = 0.8`): targets specific link. Values can numeric (linear coefficient), formulas, functions. default default function unspecified links (default identity). normalize Logical. Whether normalize diet weights (default TRUE).","code":""},{"path":"/reference/intake.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Constructor for Intake Parameters ‚Äî intake","text":"`trophic_tbl` configured `flux` column.","code":""},{"path":"/reference/is_cyclic.html","id":null,"dir":"Reference","previous_headings":"","what":"Test if a directed graph is cyclic ‚Äî is_cyclic","title":"Test if a directed graph is cyclic ‚Äî is_cyclic","text":"Implements Kahn's algorithm detect cycles directed graph.","code":""},{"path":"/reference/is_cyclic.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Test if a directed graph is cyclic ‚Äî is_cyclic","text":"","code":"is_cyclic(df)"},{"path":"/reference/is_cyclic.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Test if a directed graph is cyclic ‚Äî is_cyclic","text":"df data.frame columns .","code":""},{"path":"/reference/is_cyclic.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Test if a directed graph is cyclic ‚Äî is_cyclic","text":"Logical. TRUE graph contains least one cycle.","code":""},{"path":"/reference/is_cyclic.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Test if a directed graph is cyclic ‚Äî is_cyclic","text":"","code":"df <- data.frame(from=c(\"A\",\"B\"), to=c(\"B\",\"A\")) is_cyclic(df) #> [1] TRUE"},{"path":"/reference/load_raster_extdata.html","id":null,"dir":"Reference","previous_headings":"","what":"load raster file from internal data ‚Äî load_raster_extdata","title":"load raster file from internal data ‚Äî load_raster_extdata","text":"raster (example).","code":""},{"path":"/reference/load_raster_extdata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"load raster file from internal data ‚Äî load_raster_extdata","text":"","code":"load_raster_extdata(path_name)"},{"path":"/reference/load_raster_extdata.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"load raster file from internal data ‚Äî load_raster_extdata","text":"object `SpatRaster` (package terra).","code":""},{"path":"/reference/load_raster_extdata.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"load raster file from internal data ‚Äî load_raster_extdata","text":"Internal data package.","code":""},{"path":"/reference/load_raster_extdata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"load raster file from internal data ‚Äî load_raster_extdata","text":"path_name Path raster (.tiff) file download.","code":""},{"path":"/reference/load_raster_extdata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"load raster file from internal data ‚Äî load_raster_extdata","text":"SpatRaster object","code":""},{"path":[]},{"path":"/reference/lower_neighbors.html","id":null,"dir":"Reference","previous_headings":"","what":"Get resource layers for a given trophic layer ‚Äî lower_neighbors","title":"Get resource layers for a given trophic layer ‚Äî lower_neighbors","text":"Returns upstream neighbors (prey/resources) given layer trophic graph.","code":""},{"path":"/reference/lower_neighbors.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get resource layers for a given trophic layer ‚Äî lower_neighbors","text":"","code":"lower_neighbors(trophic_tbl, layer)"},{"path":"/reference/lower_neighbors.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get resource layers for a given trophic layer ‚Äî lower_neighbors","text":"trophic_tbl trophic_tbl object layer Name layer (string) spacemodel.","code":""},{"path":"/reference/lower_neighbors.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get resource layers for a given trophic layer ‚Äî lower_neighbors","text":"character vector names layers resources layer.","code":""},{"path":"/reference/normalize_weights.html","id":null,"dir":"Reference","previous_headings":"","what":"Normalize weights of a trophic table ‚Äî normalize_weights","title":"Normalize weights of a trophic table ‚Äî normalize_weights","text":"Adds new column normalized_weight trophic_tbl object , target node (), sum incoming weights equals 1.","code":""},{"path":"/reference/normalize_weights.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Normalize weights of a trophic table ‚Äî normalize_weights","text":"","code":"normalize_weights(tbl)"},{"path":"/reference/normalize_weights.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Normalize weights of a trophic table ‚Äî normalize_weights","text":"tbl trophic_tbl object.","code":""},{"path":"/reference/normalize_weights.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Normalize weights of a trophic table ‚Äî normalize_weights","text":"trophic_tbl object additional column normalized_weight.","code":""},{"path":"/reference/normalize_weights.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Normalize weights of a trophic table ‚Äî normalize_weights","text":"every unique value elements link column, function divides corresponding weight total weight links pointing node. Nodes incoming links left unchanged.","code":""},{"path":"/reference/normalize_weights.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Normalize weights of a trophic table ‚Äî normalize_weights","text":"","code":"net <- trophic() |>   add_link(\"a\", \"b\", weight = 2) |>   add_link(\"c\", \"b\", weight = 3)  net_norm <- normalize_weights(net)"},{"path":"/reference/ocsge_metaleurop.html","id":null,"dir":"Reference","previous_headings":"","what":"SF object defining very simplified OCS-GE soil cover metaleurop ‚Äî ocsge_metaleurop","title":"SF object defining very simplified OCS-GE soil cover metaleurop ‚Äî ocsge_metaleurop","text":"Simple feature collection 9 features 11 fields. Projected CRS: RGF93 v1 / Lambert-93.","code":""},{"path":"/reference/ocsge_metaleurop.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"SF object defining very simplified OCS-GE soil cover metaleurop ‚Äî ocsge_metaleurop","text":"","code":"data(ocsge_metaleurop)"},{"path":"/reference/ocsge_metaleurop.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"SF object defining very simplified OCS-GE soil cover metaleurop ‚Äî ocsge_metaleurop","text":"object class sf (inherits data.frame) 9 rows 12 columns.","code":""},{"path":"/reference/ocsge_metaleurop.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"SF object defining very simplified OCS-GE soil cover metaleurop ‚Äî ocsge_metaleurop","text":"","code":"data(ocsge_metaleurop)"},{"path":"/reference/plot.trophic_tbl.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot a trophic table ‚Äî plot.trophic_tbl","title":"Plot a trophic table ‚Äî plot.trophic_tbl","text":"Creates simple graphical representation trophic network using ggplot2.","code":""},{"path":"/reference/plot.trophic_tbl.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot a trophic table ‚Äî plot.trophic_tbl","text":"","code":"# S3 method for class 'trophic_tbl' plot(x, shift = TRUE, ...)"},{"path":"/reference/plot.trophic_tbl.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot a trophic table ‚Äî plot.trophic_tbl","text":"x trophic_tbl object. shift shift x_axis trophic level avoid potential overlapping arrows. ... Additional arguments (used, S3 consistency).","code":""},{"path":"/reference/plot.trophic_tbl.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot a trophic table ‚Äî plot.trophic_tbl","text":"ggplot object.","code":""},{"path":"/reference/plot.trophic_tbl.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot a trophic table ‚Äî plot.trophic_tbl","text":"Nodes positioned according trophic level: y-axis represents trophic levels Nodes level placed horizontal line x-axis positions assigned sequentially (0, 1, 2, ...) Directed links drawn lower higher trophic levels using arrows.","code":""},{"path":"/reference/plot.trophic_tbl.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot a trophic table ‚Äî plot.trophic_tbl","text":"","code":"net <- trophic() |>   add_link(\"a\", \"b\") |>   add_link(\"b\", \"c\")  plot(net)"},{"path":"/reference/raster_stack.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a RasterStack from a list of rasters and names ‚Äî raster_stack","title":"Create a RasterStack from a list of rasters and names ‚Äî raster_stack","text":"function creates `SpatRaster` stack list rasters assigns unique names layer.","code":""},{"path":"/reference/raster_stack.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a RasterStack from a list of rasters and names ‚Äî raster_stack","text":"","code":"raster_stack(raster_list, names = NULL)"},{"path":"/reference/raster_stack.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a RasterStack from a list of rasters and names ‚Äî raster_stack","text":"raster_list list `SpatRaster` objects file paths raster files. names character vector unique names raster layer stack.","code":""},{"path":"/reference/raster_stack.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a RasterStack from a list of rasters and names ‚Äî raster_stack","text":"SpatRaster object named layers.","code":""},{"path":"/reference/raster_stack.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create a RasterStack from a list of rasters and names ‚Äî raster_stack","text":"function checks length `raster_list` matches length `names`, names unique. , stops error.","code":""},{"path":"/reference/raster_stack.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a RasterStack from a list of rasters and names ‚Äî raster_stack","text":"","code":"# Example with terra rasters library(terra) #> terra 1.8.93 r1 <- rast(nrows=10, ncols=10, vals=1:100) r2 <- rast(nrows=10, ncols=10, vals=101:200) raster_stack(list(r1, r2), c(\"layer1\", \"layer2\")) #> class       : SpatRaster  #> size        : 10, 10, 2  (nrow, ncol, nlyr) #> resolution  : 36, 18  (x, y) #> extent      : -180, 180, -90, 90  (xmin, xmax, ymin, ymax) #> coord. ref. : lon/lat WGS 84 (CRS84) (OGC:CRS84)  #> source(s)   : memory #> names       : layer1, layer2  #> min values  :      1,    101  #> max values  :    100,    200"},{"path":"/reference/ref_ocsge.html","id":null,"dir":"Reference","previous_headings":"","what":"Nomenclature of OCS-GE soil cover ‚Äî ref_ocsge","title":"Nomenclature of OCS-GE soil cover ‚Äî ref_ocsge","text":"Nomenclature OCS-GE soil cover","code":""},{"path":"/reference/ref_ocsge.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Nomenclature of OCS-GE soil cover ‚Äî ref_ocsge","text":"","code":"data(ref_ocsge)"},{"path":"/reference/ref_ocsge.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Nomenclature of OCS-GE soil cover ‚Äî ref_ocsge","text":"object class data.frame 14 rows 4 columns.","code":""},{"path":"/reference/ref_ocsge.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Nomenclature of OCS-GE soil cover ‚Äî ref_ocsge","text":"","code":"data(ref_ocsge)"},{"path":"/reference/roi_metaleurop.html","id":null,"dir":"Reference","previous_headings":"","what":"SF object defining ROI metaleurop ‚Äî roi_metaleurop","title":"SF object defining ROI metaleurop ‚Äî roi_metaleurop","text":"Simple feature collection 1 feature 1 field. Geodetic CRS:  WGS 84.","code":""},{"path":"/reference/roi_metaleurop.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"SF object defining ROI metaleurop ‚Äî roi_metaleurop","text":"","code":"data(roi_metaleurop)"},{"path":"/reference/roi_metaleurop.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"SF object defining ROI metaleurop ‚Äî roi_metaleurop","text":"object class sf (inherits data.frame) 1 rows 2 columns.","code":""},{"path":"/reference/roi_metaleurop.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"SF object defining ROI metaleurop ‚Äî roi_metaleurop","text":"","code":"data(roi_metaleurop)"},{"path":"/reference/spacemodel.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a spacemodel object ‚Äî spacemodel","title":"Create a spacemodel object ‚Äî spacemodel","text":"Constructor `spacemodel` class. function combines spatial data (raster stack) ecological data (trophic table) single object used modelling.","code":""},{"path":"/reference/spacemodel.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a spacemodel object ‚Äî spacemodel","text":"","code":"spacemodel(raster_stack, trophic_tbl)"},{"path":"/reference/spacemodel.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a spacemodel object ‚Äî spacemodel","text":"raster_stack SpatRaster object (multi-layer stack) representing spatial distribution species groups. trophic_tbl object class trophic_tbl containing ecological parameters properties species.","code":""},{"path":"/reference/spacemodel.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a spacemodel object ‚Äî spacemodel","text":"SpatRaster object following additional attributes: trophic_tbl: trophic_tbl object passed input. spacemodel: logical flag set TRUE, indicating raster   part spacemodel.","code":""},{"path":"/reference/spacemodel.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create a spacemodel object ‚Äî spacemodel","text":"function performs several checks ensure data consistency: Verifies raster_stack SpatRaster. Verifies trophic_tbl trophic_tbl object. Ensures number raster layers matches number levels trophic table. Ensures names raster layers match names trophic table.","code":""},{"path":[]},{"path":"/reference/sub-.trophic_tbl.html","id":null,"dir":"Reference","previous_headings":"","what":"Subset method for trophic_tbl ‚Äî [.trophic_tbl","title":"Subset method for trophic_tbl ‚Äî [.trophic_tbl","text":"Ensures subsetting modification preserves validity trophic table.","code":""},{"path":"/reference/sub-.trophic_tbl.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Subset method for trophic_tbl ‚Äî [.trophic_tbl","text":"","code":"# S3 method for class 'trophic_tbl' x[...]"},{"path":"/reference/sub-.trophic_tbl.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Subset method for trophic_tbl ‚Äî [.trophic_tbl","text":"x trophic_tbl object. ... Additional arguments passed base method.","code":""},{"path":"/reference/sub-.trophic_tbl.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Subset method for trophic_tbl ‚Äî [.trophic_tbl","text":"validated trophic_tbl object.","code":""},{"path":"/reference/transfer.html","id":null,"dir":"Reference","previous_headings":"","what":"Transfer (food, contaminant) across trophic levels ‚Äî transfer","title":"Transfer (food, contaminant) across trophic levels ‚Äî transfer","text":"Computes transfer trophic network lower higher trophic levels using spatial spreading intake functions.","code":""},{"path":"/reference/transfer.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Transfer (food, contaminant) across trophic levels ‚Äî transfer","text":"","code":"transfer(   spacemodel,   kernels,   intakes = NULL,   exposure_weighting = \"local\",   verbose = FALSE )"},{"path":"/reference/transfer.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Transfer (food, contaminant) across trophic levels ‚Äî transfer","text":"spacemodel named list spatial layers (e.g. SpatRaster objects). Must contain attribute trophic_tbl class trophic_tbl. kernels list kernel parameters layer. intakes trophic_tbl object (compatible table) containing normalized weights flux functions trophic link. exposure_weighting Character. Defines realized exposure calculated based predator's presence. Options : \"local\" (Default): Weight exposure local habitat value (`predator_habitat`).   Assumes predator's intake strictly proportional habitat quality/density   pixel resides. \"diffuse\": Weight exposure dispersed habitat kernel.   Represents \"neighborhood\" effect predator's presence smoothed   home range. Useful avoid edge effects predator poor pixel   surrounded good habitat otherwise 0 exposure. \"potential\": weighting. Returns pure environmental offer (potential exposure)   regardless predator's density. Useful identifying risk hotspots. verbose Logical. TRUE, prints progress information.","code":""},{"path":"/reference/transfer.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Transfer (food, contaminant) across trophic levels ‚Äî transfer","text":"named `spacemodel` object list spatial layers representing  values transfer.","code":""},{"path":"/reference/transfer.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Transfer (food, contaminant) across trophic levels ‚Äî transfer","text":"function processes layers ascending trophic order, defined level attribute trophic table. layer: Resources (lower neighbors) identified. Concentration resource spatially spread using spread(). Intake computed using intake(). Contributions resources summed. function assumes intake weights already normalized , consumer, sum contributions resources equals 1.","code":""},{"path":"/reference/trophic.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a trophic table ‚Äî trophic","title":"Create a trophic table ‚Äî trophic","text":"Creates data.frame class trophic_tbl designed store trophic links. Can initialized empty existing data.frame.","code":""},{"path":"/reference/trophic.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a trophic table ‚Äî trophic","text":"","code":"trophic(data = NULL, from = NULL, to = NULL, weight = NULL)"},{"path":"/reference/trophic.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a trophic table ‚Äî trophic","text":"data (Optional) data.frame containing link information. (Optional) Character string. Name column data containing source nodes. (Optional) Character string. Name column data containing target nodes. weight (Optional) Character string. Name column data containing weights. Default 1 specified.","code":""},{"path":"/reference/trophic.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a trophic table ‚Äî trophic","text":"object class trophic_tbl.","code":""},{"path":"/reference/trophic.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a trophic table ‚Äî trophic","text":"","code":"# 1. Empty initialization (pipe style) net <- trophic() |>   add_link(\"sol\", \"sp1\")  # 2. Initialization from data.frame df_raw <- data.frame(src = c(\"A\", \"A\"), target = c(\"B\", \"C\"), w = c(2, 5)) net_from_df <- trophic(df_raw, from = \"src\", to = \"target\", weight = \"w\")"},{"path":"/reference/validate_trophic_tbl.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate a trophic table ‚Äî validate_trophic_tbl","title":"Validate a trophic table ‚Äî validate_trophic_tbl","text":"Internal function used ensure trophic_tbl object respects structural constraints.","code":""},{"path":"/reference/validate_trophic_tbl.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate a trophic table ‚Äî validate_trophic_tbl","text":"","code":"validate_trophic_tbl(df)"},{"path":"/reference/validate_trophic_tbl.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate a trophic table ‚Äî validate_trophic_tbl","text":"df data.frame intended trophic_tbl object.","code":""},{"path":"/reference/validate_trophic_tbl.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate a trophic table ‚Äî validate_trophic_tbl","text":"validated trophic_tbl object.","code":""},{"path":"/reference/validate_trophic_tbl.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Validate a trophic table ‚Äî validate_trophic_tbl","text":"function checks : links unique self-loops present graph acyclic also computes updates trophic level attribute.","code":""}]
